// Code generated by cmd/cgo; DO NOT EDIT.

//line /bigdata/qiuhan/codet5/usage/goroot/misc/cgo/test/issue8694.go:1:1
// Copyright 2014 The Go Authors. All rights reserved.
// Use of this source code is governed by a BSD-style
// license that can be found in the LICENSE file.

//go:build !android
// +build !android

package cgotest

/*
#include <complex.h>

complex float complexFloatSquared(complex float a) { return a*a; }
complex double complexDoubleSquared(complex double a) { return a*a; }
*/
import _ "unsafe"

import (
	"runtime"
	"testing"
)

func test8694(t *testing.T) {
	if runtime.GOARCH == "arm" {
		t.Skip("test8694 is disabled on ARM because 5l cannot handle thumb library.")
	}
	// Really just testing that this compiles, but check answer anyway.
	x :=  /*line :28:7*/_Ctype_complexfloat /*line :28:21*/(2 + 3i)
	x2 := x * x
	cx2 := ( /*line :30:9*/_Cfunc_complexFloatSquared /*line :30:29*/)(x)
	if cx2 != x2 {
		t.Errorf("C.complexFloatSquared(%v) = %v, want %v", x, cx2, x2)
	}

	y :=  /*line :35:7*/_Ctype_complexdouble /*line :35:22*/(2 + 3i)
	y2 := y * y
	cy2 := ( /*line :37:9*/_Cfunc_complexDoubleSquared /*line :37:30*/)(y)
	if cy2 != y2 {
		t.Errorf("C.complexDoubleSquared(%v) = %v, want %v", y, cy2, y2)
	}
}
