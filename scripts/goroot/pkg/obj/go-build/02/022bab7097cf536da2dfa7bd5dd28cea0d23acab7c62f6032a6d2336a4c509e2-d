// Code generated by cmd/cgo; DO NOT EDIT.

//line /tmp/TestOutput531013202/009/main.go:1:1

package main

/*
#include <pthread.h>
typedef struct cb {
        int foo;
} cb;
extern void goCallback();
static inline void *threadFunc(void *p) {
	goCallback();
	return 0;
}
static inline void startThread(cb* c) {
	pthread_t th;
	pthread_create(&th, 0, threadFunc, 0);
}
*/
import _ "unsafe"

var done chan bool
var racy int

//export goCallback
func goCallback() {
	racy++
	done <- true
}

func main() {
	done = make(chan bool)
	var c  /*line :32:8*/_Ctype_cb /*line :32:12*/
	( /*line :33:2*/_Cfunc_startThread /*line :33:14*/)(&c)
	racy++
	<- done
}
